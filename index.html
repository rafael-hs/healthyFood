<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>HealthyFood</title>
    <script src="./assets/js/jquery.js" name="jquery"></script>
    <script src="./assets/js/jquery-ui.js" name="jqueryUi"></script>
    <script src="./assets/js/axios.js"></script>
    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="../assets/css/jquery-ui.css">
</head>

<body>
    <h1 class="titulo">HealthyFood</h1>
    <ul id="comidas" class="comidas connectedSortable"></ul>
    <ul id="prato" class="prato connectedSortable"></ul>

    <script>
        function trazerDados() {
            const dadoComida = '../assets/comida.json'
            axios(dadoComida).then(resp => {
                const itens = resp.data.reduce(
                    (html, comida) => html + `<li class="item card"><img src="./assets${comida.src}" width="50" height="50"></li>`, ''
                )
                $('#comidas').html(itens)
            })
            const dadoPrato = '../assets/prato.json'
            axios(dadoPrato).then(resp => {
                const itens = resp.data.reduce(
                    (html, prato) => html + `<li class="item card"><img src="./assets${prato.src}" width="50" height="50"></li>`, ''
                )
                $('#prato').html(itens)
            })
        }
        function moverObjetos() {
            $(function () {
                $('#comidas, #prato').sortable({
                    connectWith: ".connectedSortable",
                    revert: true
                }).disableSelection();
            })
            $('#comidas > item, #prato item').draggable({
                connectToSortable: '.connectedSortable',
                // revert: 'invalid'
            }).disableSelection()
        }

        trazerDados()
       setInterval(() => {
        moverObjetos()
       }, 500); 
    </script>
</body>

</html>